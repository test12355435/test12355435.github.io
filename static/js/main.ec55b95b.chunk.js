(this["webpackJsonptest-app"]=this["webpackJsonptest-app"]||[]).push([[0],{83:function(e,t,n){},88:function(e,t,n){},97:function(e,t,n){"use strict";n.r(t),n.d(t,"Context",(function(){return B}));var c=n(1),a=n(15),r=n.n(a),i=(n(83),n(25)),o=n(31),s=n(42),j=n(17),d=n(39),l=n.n(d),u=n(46),b=n(128),h=n(135),p=n(131),x=n(134),O=n(56),f=n(30),g=n(125),m=(n(88),n(8));function v(){return Object(m.jsx)(g.a,{children:Object(m.jsx)(b.a,{container:!0,style:{height:window.innerHeight-50,alignItems:"center",justifyContent:"center"},children:Object(m.jsx)(b.a,{container:!0,alignItems:"center",direction:"column",children:Object(m.jsx)("div",{class:"lds-hourglass"})})})})}var y=n(133);var w="/login",C="/chat",I=[{path:w,component:function(){var e=Object(c.useContext)(B).auth,t=function(){var t=Object(u.a)(l.a.mark((function t(){var n,c,a;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=new f.a.auth.GoogleAuthProvider,t.next=3,e.signInWithPopup(n);case 3:c=t.sent,a=c.user,console.log(a);case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(m.jsx)(g.a,{children:Object(m.jsx)(b.a,{container:!0,style:{height:window.innerHeight-50,alignItems:"center",justifyContent:"center"},children:Object(m.jsx)(b.a,{style:{width:400,backgroundColor:"lightgray"},container:!0,alignItems:"center",direction:"column",children:Object(m.jsx)(y.a,{p:5,children:Object(m.jsxs)(x.a,{onClick:t,variant:"outlined",children:["\u0412\u043e\u0439\u0442\u0438 \u0441 \u043f\u043e\u043c\u043e\u0449\u044c\u044e Google"," "]})})})})})}}],k=[{path:C,component:function(){var e=Object(c.useContext)(B),t=e.auth,n=e.firestore,a=Object(o.a)(t),r=Object(i.a)(a,1)[0],s=Object(c.useState)(""),j=Object(i.a)(s,2),d=j[0],g=j[1],y=Object(O.a)(n.collection("massages").orderBy("createdAt")),w=Object(i.a)(y,2),C=w[0],I=w[1],k=Object(O.a)(n.collection("hello").orderBy("createdAt")),A=Object(i.a)(k,2),U=(A[0],A[1],function(){var e=Object(u.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.collection("massages").add({uid:r.uid,displayName:r.displayName,photoURL:r.photoURL,text:d,createdAt:f.a.firestore.FieldValue.serverTimestamp()}),g("");case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}());return I?Object(m.jsx)(v,{}):Object(m.jsx)("div",{children:Object(m.jsxs)(b.a,{justify:"center",container:!0,style:{height:window.innerHeight-50,marginTop:5},children:[Object(m.jsx)("div",{style:{width:"80%",height:"70vh",border:"1px solid gray",overflowY:"auto"},children:C.map((function(e){return Object(m.jsxs)("div",{style:{margin:15,border:r.uid===e.uid?"solid green 2px":"solid gray 2px",borderRadius:10,padding:10,display:"flex",alignItems:"center",backgroundColor:r.uid===e.uid?"rgba(104,234,113,0.3)":"rgba(165,177,175,0.3)"},children:[Object(m.jsxs)(b.a,{container:!0,alignItems:"center",children:[Object(m.jsx)(h.a,{src:e.photoURL}),Object(m.jsx)("div",{children:e.displayName})]}),Object(m.jsx)("div",{style:{width:400},children:e.text})]})}))}),Object(m.jsxs)(b.a,{container:!0,direction:"column",alignItems:"flex-end",style:{width:"80%"},children:[Object(m.jsx)(p.a,{value:d,onChange:function(e){return g(e.target.value)},fullWidth:!0,variant:"outlined"}),Object(m.jsx)(x.a,{onClick:U,variant:"outlined",children:"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c"})]})]})})}}];function A(){var e=Object(c.useContext)(B).auth,t=Object(o.a)(e);return Object(i.a)(t,1)[0]?Object(m.jsxs)(j.d,{children:[k.map((function(e){var t=e.path,n=e.component;return Object(m.jsx)(j.b,{path:t,component:n,exact:!0},t)})),Object(m.jsx)(j.a,{to:C})]}):Object(m.jsxs)(j.d,{children:[I.map((function(e){var t=e.path,n=e.component;return Object(m.jsx)(j.b,{path:t,component:n,exact:!0},t)})),Object(m.jsx)(j.a,{to:w})]})}var U=n(129),z=n(130);function G(){var e=Object(c.useContext)(B).auth,t=Object(o.a)(e),n=Object(i.a)(t,1)[0];return Object(m.jsx)(U.a,{color:"secondary",position:"static",children:Object(m.jsx)(z.a,{variant:"dense",children:Object(m.jsx)(b.a,{container:!0,justify:"flex-end",children:n?Object(m.jsx)(x.a,{onClick:function(){return e.signOut()},variant:"outlined",children:"Exit"}):Object(m.jsx)(s.b,{to:w,children:Object(m.jsx)(x.a,{variant:"outlined",children:"Login"})})})})})}var L=function(){var e=Object(c.useContext)(B).auth,t=Object(o.a)(e),n=Object(i.a)(t,3),a=(n[0],n[1]);return n[2],a?Object(m.jsx)(v,{}):Object(m.jsxs)(s.a,{children:[Object(m.jsx)(G,{}),Object(m.jsx)(A,{})]})};n(95),n(96);f.a.initializeApp({apiKey:"AIzaSyDGkzU2fnPi0oXxzA_2oWcUnEeqfWM3zxU",authDomain:"chat-react-e962b.firebaseapp.com",projectId:"chat-react-e962b",storageBucket:"chat-react-e962b.appspot.com",messagingSenderId:"145869011061",appId:"1:145869011061:web:7e56b8a186634514f8603c",measurementId:"G-GQ60HS2LJ3"});var B=Object(c.createContext)(null),H=f.a.auth(),P=f.a.firestore();r.a.render(Object(m.jsx)(B.Provider,{value:{firebase:f.a,auth:H,firestore:P},children:Object(m.jsx)(L,{})}),document.getElementById("root"))}},[[97,1,2]]]);
//# sourceMappingURL=main.ec55b95b.chunk.js.map