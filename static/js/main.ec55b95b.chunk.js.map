{"version":3,"sources":["components/Loader.js","components/Utils/consts.js","components/Routes.js","components/Login.js","components/Chat.js","components/AppRouter.js","components/NavBar.js","App.js","index.js"],"names":["Loader","Container","Grid","container","style","height","window","innerHeight","alignItems","justifyContent","direction","class","LOGIN_ROUTE","CHAT_ROUTE","publickRoutes","path","component","auth","useContext","Context","login","a","provider","firebase","GoogleAuthProvider","signInWithPopup","user","console","log","width","backgroundColor","Box","p","Button","onClick","variant","privateRoutes","firestore","useAuthState","useState","value","setvalue","useCollectionData","collection","orderBy","massages","loading","sendMassage","add","uid","displayName","photoURL","text","createdAt","FieldValue","serverTimestamp","justify","marginTop","border","overflowY","map","massage","margin","borderRadius","padding","display","Avatar","src","TextField","onChange","e","target","fullWidth","AppRouter","exact","to","NavBar","AppBar","color","position","Toolbar","signOut","App","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","createContext","ReactDOM","render","Provider","document","getElementById"],"mappings":"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","file":"static/js/main.ec55b95b.chunk.js","sourcesContent":["import { Box, Button, Container, Grid } from \"@material-ui/core\";\r\nimport React from \"react\";\r\nimport \"../App.css\";\r\n\r\nexport default function Loader() {\r\n  return (\r\n    <Container>\r\n      <Grid\r\n        container\r\n        style={{\r\n          height: window.innerHeight - 50,\r\n          alignItems: \"center\",\r\n          justifyContent: \"center\",\r\n        }}\r\n      >\r\n        <Grid container alignItems=\"center\" direction=\"column\">\r\n          <div class=\"lds-hourglass\"></div>\r\n        </Grid>\r\n      </Grid>\r\n    </Container>\r\n  );\r\n}\r\n","export const LOGIN_ROUTE = \"/login\";\r\nexport const CHAT_ROUTE = \"/chat\";\r\n","import Chat from \"./Chat\";\r\nimport Login from \"./Login\";\r\nimport { CHAT_ROUTE, LOGIN_ROUTE } from \"./Utils/consts\";\r\n\r\nexport const publickRoutes = [\r\n  {\r\n    path: LOGIN_ROUTE,\r\n    component: Login,\r\n  },\r\n];\r\n\r\nexport const privateRoutes = [\r\n  {\r\n    path: CHAT_ROUTE,\r\n    component: Chat,\r\n  },\r\n];\r\n","import { Box, Button, Container, Grid } from \"@material-ui/core\";\r\nimport React from \"react\";\r\nimport { useContext } from \"react\";\r\nimport { Context } from \"..\";\r\nimport firebase from \"firebase\";\r\nexport default function Login() {\r\n  const { auth } = useContext(Context);\r\n\r\n  const login = async () => {\r\n    const provider = new firebase.auth.GoogleAuthProvider();\r\n    const { user } = await auth.signInWithPopup(provider);\r\n    console.log(user);\r\n  };\r\n\r\n  return (\r\n    <Container>\r\n      <Grid\r\n        container\r\n        style={{\r\n          height: window.innerHeight - 50,\r\n          alignItems: \"center\",\r\n          justifyContent: \"center\",\r\n        }}\r\n      >\r\n        <Grid\r\n          style={{ width: 400, backgroundColor: \"lightgray\" }}\r\n          container\r\n          alignItems=\"center\"\r\n          direction=\"column\"\r\n        >\r\n          <Box p={5}>\r\n            <Button onClick={login} variant=\"outlined\">\r\n              Войти с помощью Google{\" \"}\r\n            </Button>\r\n          </Box>\r\n        </Grid>\r\n      </Grid>\r\n    </Container>\r\n  );\r\n}\r\n","import { Avatar, Button, Grid, TextField } from \"@material-ui/core\";\r\nimport React from \"react\";\r\nimport { useState } from \"react\";\r\nimport { useCollectionData } from \"react-firebase-hooks/firestore\";\r\nimport firebase from \"firebase\";\r\nimport { useContext } from \"react\";\r\nimport { Context } from \"..\";\r\nimport { useAuthState } from \"react-firebase-hooks/auth\";\r\nimport Loader from \"./Loader\";\r\n\r\nexport default function Chat() {\r\n  const { auth, firestore } = useContext(Context);\r\n  const [user] = useAuthState(auth);\r\n  const [value, setvalue] = useState(\"\");\r\n  const [massages, loading] = useCollectionData(\r\n    firestore.collection(\"massages\").orderBy(\"createdAt\")\r\n  );\r\n  const [tre, asx] = useCollectionData(\r\n    firestore.collection(\"hello\").orderBy(\"createdAt\")\r\n  );\r\n\r\n  const sendMassage = async () => {\r\n    firestore.collection(\"massages\").add({\r\n      uid: user.uid,\r\n      displayName: user.displayName,\r\n      photoURL: user.photoURL,\r\n      text: value,\r\n      createdAt: firebase.firestore.FieldValue.serverTimestamp(),\r\n    });\r\n    setvalue(\"\");\r\n  };\r\n\r\n  if (loading) {\r\n    return <Loader />;\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <Grid\r\n        justify=\"center\"\r\n        container\r\n        style={{ height: window.innerHeight - 50, marginTop: 5 }}\r\n      >\r\n        <div\r\n          style={{\r\n            width: \"80%\",\r\n            height: \"70vh\",\r\n            border: \"1px solid gray\",\r\n            overflowY: \"auto\",\r\n          }}\r\n        >\r\n          {massages.map((massage) => (\r\n            <div\r\n              style={{\r\n                margin: 15,\r\n                border:\r\n                  user.uid === massage.uid\r\n                    ? \"solid green 2px\"\r\n                    : \"solid gray 2px\",\r\n                borderRadius: 10,\r\n                padding: 10,\r\n                display: \"flex\",\r\n                alignItems: \"center\",\r\n                backgroundColor:\r\n                  user.uid === massage.uid\r\n                    ? \"rgba(104,234,113,0.3)\"\r\n                    : \"rgba(165,177,175,0.3)\",\r\n              }}\r\n            >\r\n              <Grid container alignItems=\"center\">\r\n                <Avatar src={massage.photoURL} />\r\n                <div>{massage.displayName}</div>\r\n              </Grid>\r\n              <div style={{ width: 400 }}>{massage.text}</div>\r\n            </div>\r\n          ))}\r\n        </div>\r\n        <Grid\r\n          container\r\n          direction=\"column\"\r\n          alignItems=\"flex-end\"\r\n          style={{ width: \"80%\" }}\r\n        >\r\n          <TextField\r\n            value={value}\r\n            onChange={(e) => setvalue(e.target.value)}\r\n            fullWidth\r\n            variant=\"outlined\"\r\n          />\r\n          <Button onClick={sendMassage} variant=\"outlined\">\r\n            Отправить\r\n          </Button>\r\n        </Grid>\r\n      </Grid>\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport { Route, Switch, Redirect } from \"react-router-dom\";\r\nimport { privateRoutes, publickRoutes } from \"./Routes\";\r\nimport { CHAT_ROUTE, LOGIN_ROUTE } from \"./Utils/consts\";\r\nimport { useAuthState } from \"react-firebase-hooks/auth\";\r\nimport { useContext } from \"react\";\r\nimport { Context } from \"..\";\r\n\r\nexport default function AppRouter() {\r\n  const { auth } = useContext(Context);\r\n  const [user] = useAuthState(auth);\r\n\r\n  return user ? (\r\n    <Switch>\r\n      {privateRoutes.map(({ path, component }) => (\r\n        <Route key={path} path={path} component={component} exact />\r\n      ))}\r\n      <Redirect to={CHAT_ROUTE} />\r\n    </Switch>\r\n  ) : (\r\n    <Switch>\r\n      {publickRoutes.map(({ path, component }) => (\r\n        <Route key={path} path={path} component={component} exact />\r\n      ))}\r\n      <Redirect to={LOGIN_ROUTE} />\r\n    </Switch>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport AppBar from \"@material-ui/core/AppBar\";\r\nimport Toolbar from \"@material-ui/core/Toolbar\";\r\nimport { Button, Grid } from \"@material-ui/core\";\r\nimport { NavLink } from \"react-router-dom\";\r\nimport { LOGIN_ROUTE } from \"./Utils/consts\";\r\nimport { useContext } from \"react\";\r\nimport { Context } from \"..\";\r\nimport { useAuthState } from \"react-firebase-hooks/auth\";\r\n\r\nexport default function NavBar() {\r\n  const { auth } = useContext(Context);\r\n  const [user] = useAuthState(auth);\r\n\r\n  return (\r\n    <AppBar color=\"secondary\" position=\"static\">\r\n      <Toolbar variant=\"dense\">\r\n        <Grid container justify=\"flex-end\">\r\n          {user ? (\r\n            <Button onClick={() => auth.signOut()} variant=\"outlined\">\r\n              Exit\r\n            </Button>\r\n          ) : (\r\n            <NavLink to={LOGIN_ROUTE}>\r\n              <Button variant=\"outlined\">Login</Button>\r\n            </NavLink>\r\n          )}\r\n        </Grid>\r\n      </Toolbar>\r\n    </AppBar>\r\n  );\r\n}\r\n","import React, { useState } from \"react\";\r\nimport { useContext } from \"react\";\r\nimport { useAuthState } from \"react-firebase-hooks/auth\";\r\nimport { BrowserRouter } from \"react-router-dom\";\r\nimport { Context } from \".\";\r\nimport AppRouter from \"./components/AppRouter\";\r\nimport Loader from \"./components/Loader\";\r\nimport NavBar from \"./components/NavBar\";\r\n\r\nfunction App() {\r\n  const { auth } = useContext(Context);\r\n  const [user, loading, error] = useAuthState(auth);\r\n\r\n  if (loading) {\r\n    return <Loader />;\r\n  }\r\n\r\n  return (\r\n    <BrowserRouter>\r\n      <NavBar />\r\n      <AppRouter />\r\n    </BrowserRouter>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React, { createContext } from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport \"./index.css\";\r\nimport App from \"./App\";\r\nimport firebase from \"firebase\";\r\nimport \"firebase/firestore\";\r\nimport \"firebase/auth\";\r\n\r\nfirebase.initializeApp({\r\n  apiKey: \"AIzaSyDGkzU2fnPi0oXxzA_2oWcUnEeqfWM3zxU\",\r\n  authDomain: \"chat-react-e962b.firebaseapp.com\",\r\n  projectId: \"chat-react-e962b\",\r\n  storageBucket: \"chat-react-e962b.appspot.com\",\r\n  messagingSenderId: \"145869011061\",\r\n  appId: \"1:145869011061:web:7e56b8a186634514f8603c\",\r\n  measurementId: \"G-GQ60HS2LJ3\",\r\n});\r\n\r\nexport const Context = createContext(null);\r\nconst auth = firebase.auth();\r\nconst firestore = firebase.firestore();\r\n\r\nReactDOM.render(\r\n  <Context.Provider\r\n    value={{\r\n      firebase,\r\n      auth,\r\n      firestore,\r\n    }}\r\n  >\r\n    <App />\r\n  </Context.Provider>,\r\n  document.getElementById(\"root\")\r\n);\r\n"],"sourceRoot":""}